(()=>{var e={49:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},284:(e,t)=>{"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},i=e.length;if(i<2)return r;var s=t&&t.decode||l,o=0,a=0,h=0;do{if(-1===(a=e.indexOf("=",o)))break;if(-1===(h=e.indexOf(";",o)))h=i;else if(a>h){o=e.lastIndexOf(";",a-1)+1;continue}var d=u(e,o,a),p=c(e,a,d),f=e.slice(d,p);if(!n.call(r,f)){var m=u(e,a+1,h),y=c(e,h,m);34===e.charCodeAt(m)&&34===e.charCodeAt(y-1)&&(m++,y--);var g=e.slice(m,y);r[f]=function(e,t){try{return t(e)}catch(t){return e}}(g,s)}o=h+1}while(o<i)return r},t.serialize=function(e,t,n){var u=n&&n.encode||encodeURIComponent;if("function"!=typeof u)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var c=u(t);if(!s.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(!n)return l;if(null!=n.maxAge){var h=Math.floor(n.maxAge);if(!isFinite(h))throw TypeError("option maxAge is invalid");l+="; Max-Age="+h}if(n.domain){if(!o.test(n.domain))throw TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){var d=n.expires;if("[object Date]"!==r.call(d)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+d.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.partitioned&&(l+="; Partitioned"),n.priority)switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,s=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r)return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function l(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},46:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&"function"==typeof e.on&&m(e,"error",i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,s,o,c=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else for(var c=u.length,l=f(u,c),r=0;r<c;++r)n(l[r],this,t);return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},191:(e,t,r)=>{"use strict";var n=r(461),i=r(784);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(s=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;s<this.padLength;s++)n[i++]=0;return n}},536:(e,t,r)=>{"use strict";var n=r(461),i=r(191),s=r(600),o=r(784),a=n.sum32,u=n.sum32_4,c=n.sum32_5,l=s.ch32,h=s.maj32,d=s.s0_256,p=s.s1_256,f=s.g0_256,m=s.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=Array(64)}n.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],y=this.h[2],g=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],C=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var _=c(C,p(v),l(v,b,w),this.k[n],r[n]),E=a(d(i),h(i,s,y));C=w,w=b,b=v,v=a(g,_),g=y,y=s,s=i,i=a(_,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],C)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},600:(e,t,r)=>{"use strict";var n=r(461).rotr32;function i(e,t,r){return e&t^e&r^t&r}t.ft_1=function(e,t,r,n){return 0===e?t&r^~t&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},t.ch32=function(e,t,r){return e&t^~e&r},t.maj32=i,t.p32=function(e,t,r){return e^t^r},t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},461:(e,t,r)=>{"use strict";var n=r(784),i=r(615);function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s,o,a=e.charCodeAt(i);a<128?r[n++]=a:(a<2048?r[n++]=a>>6|192:((s=e,o=i,(64512&s.charCodeAt(o))!=55296||o<0||o+1>=s.length?1:(64512&s.charCodeAt(o+1))!=56320)?r[n++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128),r[n++]=a>>6&63|128),r[n++]=63&a|128)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=a(i.toString(16))}return r},t.zero2=o,t.zero8=a,t.join32=function(e,t,r,i){var s,o=r-t;n(o%4==0);for(var a=Array(o/4),u=0,c=t;u<a.length;u++,c+=4)s="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[u]=s>>>0;return a},t.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0;e[t]=(s<n?1:0)+r+i>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u,c=t;return e+r+i+o+(0+((c=c+n>>>0)<t?1:0)+((c=c+s>>>0)<s?1:0)+((c=c+a>>>0)<a?1:0))>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var l,h=t;return e+r+i+o+u+(0+((h=h+n>>>0)<t?1:0)+((h=h+s>>>0)<s?1:0)+((h=h+a>>>0)<a?1:0)+((h=h+c>>>0)<c?1:0))>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},615:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},784:e=>{function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},250:e=>{function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===s&&isFinite(e))return r.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},90:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(869)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},869:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,s;let o=null;function a(...e){if(!a.enabled)return;let n=Number(new Date),i=n-(r||n);a.diff=i,a.prev=r,a.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";s++;let i=t.formatters[n];if("function"==typeof i){let t=e[s];r=i.call(a,t),e.splice(s,1),s--}return r}),t.formatArgs.call(a,e);let o=a.log||t.log;o.apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,s=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,s=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++s}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(let e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(let r of t.skips)if(i(e,r))return!1;for(let r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(250),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},676:(e,t,r)=>{"use strict";var n=r(238);e.exports=function(){var e=n.apply(n,arguments);return e.charAt(0).toUpperCase()+e.slice(1)}},238:e=>{"use strict";e.exports=function(){var e=[].map.call(arguments,function(e){return e.trim()}).filter(function(e){return e.length}).join("-");return e.length?1!==e.length&&/[_.\- ]+/.test(e)?e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}):e[0]===e[0].toLowerCase()&&e.slice(1)!==e.slice(1).toLowerCase()?e:e.toLowerCase():""}},966:(e,t,r)=>{var n=r(676),i=r(49);function s(e,t){e.name=a(i[t]),e.status=e.statusCode=t,o(e)}function o(e){var t=e.status,r=e.method,n=e.path,i=t+" status code",s=r||n;s&&(i+=' for "'),r&&(i+=r),s&&(i+=" "),n&&(i+=n),s&&(i+='"'),e.message=i}function a(e){return n(String(e).replace(/error$/i,""),"error")}e.exports=function e(){for(var t=Error(),r=0;r<arguments.length;r++)!function e(t,r){if(r){if("number"==typeof r)s(t,r);else{r.status_code&&s(t,r.status_code),r.error&&(t.name=a(r.error)),r.error_description&&(t.message=r.error_description);var n=r.errors;for(var i in n&&e(t,n.length?n[0]:n),r)t[i]=r[i];t.status&&(r.method||r.path)&&o(t)}}}(t,arguments[r]);return"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(t,e),t}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{"use strict";let e,t,n,i;let s=window.wp.element;var o=r(90),a=r.n(o);let u=a()("calypso:analytics");r(536);window.addEventListener("popstate",function(){});var c=r(284);let l=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB","CH","IS","LI","NO"],h=["california","colorado","connecticut","utah","virginia","texas","tennessee","oregon","new jersey","montana","iowa","indiana","delaware"],d={ok:!1,buckets:{essential:!0,analytics:!1,advertising:!1}},p={ok:!1,buckets:{essential:!0,analytics:!0,advertising:!1}},f={ok:!0,buckets:{essential:!0,analytics:!0,advertising:!0}},m=(e,t,r=d)=>{let{ok:n,buckets:i}=e?JSON.parse(e):{};return"boolean"==typeof n?{ok:n,buckets:{...r.buckets,...i}}:t&&["yes","no"].includes(t)?{ok:"yes"===t,buckets:f.buckets}:r};var y=r(46);let g=a()("lib/load-script/callback-handler"),v=new Map;function b(e,t){v.has(e)?(g(`Adding a callback for an existing script from "${e}"`),v.get(e).add(t)):(g(`Adding a callback for a new script from "${e}"`),v.set(e,new Set([t])))}function w(e,t=null){let r=v.get(e);if(r){let n=`Executing callbacks for "${e}"`+(null===t?" with success":` with error "${t}"`);g(n),r.forEach(e=>{"function"==typeof e&&e(t)}),v.delete(e)}}function C(){let e=this.getAttribute("src");g(`Handling successful request for "${e}"`),w(e),this.onload=null}function _(){let e=this.getAttribute("src");g(`Handling failed request for "${e}"`),w(e,Error(`Failed to load script "${e}"`)),this.onerror=null}let E=a()("lib/load-script/dom-operations");a()("package/load-script");let O=["calypso","jetpack","remotedatablocks","wpcom_dsp_widget"],F=["a8c_cookie_banner_ok","a8c_cookie_banner_view","a8c_ccpa_optout","wcadmin_storeprofiler_create_jetpack_account","wcadmin_storeprofiler_connect_store","wcadmin_storeprofiler_login_jetpack_account","wcadmin_storeprofiler_payment_login","wcadmin_storeprofiler_payment_create_account","calypso_checkout_switch_to_p_24","calypso_checkout_composite_p24_submit_clicked","wpcom_launchbar_button_click","wpcom_support_free_migration_request_click"];Promise.resolve(),"undefined"!=typeof document&&function(e,t,r){var n;let i=!v.has(e);if(i&&(n=function(e,t){E(`Creating script element for "${e}"`);let r=document.createElement("script");return r.src=e,r.type="text/javascript",r.onload=C,r.onerror=_,r.async=!0,t&&Object.entries(t).forEach(([e,t])=>r[e]=t),r}(e,void 0),E("Attaching element to head"),document.head.appendChild(n)),"function"==typeof t){b(e,t);return}new Promise((t,r)=>{b(e,e=>{null===e?t():r(e)})})}("//stats.wp.com/w.js?67");let S=new y.EventEmitter;function R(r,n){var i;n=n||{},e?.localeSlug&&(n.user_lang=e.localeSlug);let s=function(){var e,t,r;if("undefined"==typeof document)return f;let n=c.parse(document.cookie),i="unknown"===(e=n.country_code)||void 0!==e&&l.includes(e),s=(t=n.country_code,r=n.region,"US"===t&&("unknown"===r||void 0!==r&&h.includes(r.toLowerCase())));if(!i&&!s)return f;let{ok:o,buckets:a}=m(n.sensitive_pixel_options,n.sensitive_pixel_option,i?p:f);return s?{ok:o,buckets:{...f.buckets,advertising:a.advertising}}:{ok:o,buckets:a}}();if(!s?.buckets.analytics){u('Analytics has been disabled - Ignoring event "%s" with actual props %o',r,n);return}if(u('Record event "%s" called with props %o',r,n),!O.some(e=>r.startsWith(`${e}_`))&&!F.includes(r)){u("- Event name must be prefixed by a known source or added to `EVENT_NAME_EXCEPTIONS`");return}if(t){let e=t(n);n={...n,...e}}u('Recording event "%s" with actual props %o',r,n=Object.fromEntries(Object.entries(n).filter(([,e])=>void 0!==e))),i=["recordEvent",r,n],window._tkq=window._tkq||[],window._tkq.push(i),S.emit("record-event",r,n)}let x=window.React,k=window.wp.i18n,A=function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n)}return i}(e))&&(n&&(n+=" "),n+=t);return n},L=window.lodash,__=k.__,P=({activePageIndex:e,numberOfPages:t,onChange:r,classNames:n,children:i})=>{let o=A("pagination-control",n);return(0,s.createElement)("ul",{className:o,"aria-label":__("Pagination control")},(0,L.times)(t,n=>(0,s.createElement)("li",{key:`${t}-${n}`,"aria-current":n===e?"page":void 0},(0,s.createElement)("button",{className:A("pagination-control__page",{"is-current":n===e}),disabled:n===e,"aria-label":(0,k.sprintf)(__("Page %1$d of %2$d"),n+1,t),onClick:()=>r(n)}))),i&&(0,s.createElement)("li",{className:"pagination-control__last-item"},i))},q=window.wp.components,M=window.wp.keycodes,T=k.__,I=({children:e,className:t,onFinish:r})=>{let[n,i]=(0,s.useState)(0),o=s.Children.map(e,e=>({content:e}))||[],a=n>0,u=n<o?.length-1,c=()=>{a&&i(n-1)},l=()=>{u?i(n+1):r()};return 0===o.length?null:(0,s.createElement)(q.Modal,{className:A("components-guide",t),overlayClassName:A("components-guide-overlay",t),onRequestClose:r,onKeyDown:e=>{e.keyCode===M.LEFT?c():e.keyCode===M.RIGHT&&l()},title:""},(0,s.createElement)("div",{className:"guide__container"},(0,s.createElement)("div",{className:"guide__page"},o[n].content),(0,s.createElement)("div",{className:"guide__footer"},o.length>1&&(0,s.createElement)(P,{activePageIndex:n,numberOfPages:o.length,onChange:i},(0,s.createElement)("div",{className:"guide__buttons"},n>0&&(0,s.createElement)(q.Button,{className:"guide__back-button",variant:"tertiary",onClick:c},T("Back","command-palette")),(0,s.createElement)(q.Button,{className:"guide__forward-button",autoFocus:0===n,variant:"primary",onClick:l},u?T("Next"):T("Done")))))))};var D=x.createContext(void 0),U=e=>{let t=x.useContext(D);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},Q=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.createElement(D.Provider,{value:e},t)),j=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=e=>setTimeout(e,0),s=n=>{t?e.push(n):i(()=>{r(n)})},o=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||o()}return r},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}(),N="Deno"in window;function K(){}function z(e){return"number"==typeof e&&e>=0&&e!==1/0}function H(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==B(o,t.options))return!1}else if(!J(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(void 0===i||i===t.state.fetchStatus)&&(!s||!!s(t))}function G(e,t){let{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(W(t.options.mutationKey)!==W(s))return!1}else if(!J(t.options.mutationKey,s))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function B(e,t){let r=t?.queryKeyHashFn||W;return r(e)}function W(e){return JSON.stringify(e,(e,t)=>X(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function J(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!J(e[r],t[r]))}function V(e,t){if(e&&!t||t&&!e)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function Z(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function X(e){if(!Y(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(Y(r)&&r.hasOwnProperty("isPrototypeOf"))}function Y(e){return"[object Object]"===Object.prototype.toString.call(e)}function ee(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=Z(t)&&Z(r);if(n||X(t)&&X(r)){let i=n?t.length:Object.keys(t).length,s=n?r:Object.keys(r),o=s.length,a=n?[]:{},u=0;for(let i=0;i<o;i++){let o=n?i:s[i];a[o]=e(t[o],r[o]),a[o]===t[o]&&u++}return i===o&&u===i?t:a}return r}(e,t):t}function et(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function er(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var en=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(N?1/0:3e5))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},ei=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},es=new class extends ei{#t;#r;#n;constructor(){super(),this.#n=e=>{if(!N&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#n=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){let t=this.#t!==e;t&&(this.#t=e,this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return"boolean"==typeof this.#t?this.#t:globalThis.document?.visibilityState!=="hidden"}},eo=new class extends ei{#i=!0;#r;#n;constructor(){super(),this.#n=e=>{if(!N&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#n=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){let t=this.#i!==e;t&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}};function ea(e){return Math.min(1e3*2**e,3e4)}function eu(e){return(e??"online")!=="online"||eo.isOnline()}var ec=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function el(e){return e instanceof ec}function eh(e){let t,r,n,i=!1,s=0,o=!1,a=new Promise((e,t)=>{r=e,n=t}),u=()=>!es.isFocused()||"always"!==e.networkMode&&!eo.isOnline(),c=n=>{o||(o=!0,e.onSuccess?.(n),t?.(),r(n))},l=r=>{o||(o=!0,e.onError?.(r),t?.(),n(r))},h=()=>new Promise(r=>{t=e=>{let t=o||!u();return t&&r(e),t},e.onPause?.()}).then(()=>{t=void 0,o||e.onContinue?.()}),d=()=>{let t;if(!o){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(c).catch(t=>{if(o)return;let r=e.retry??(N?0:3),n=e.retryDelay??ea,a="function"==typeof n?n(s,t):n,c=!0===r||"number"==typeof r&&s<r||"function"==typeof r&&r(s,t);if(i||!c){l(t);return}s++,e.onFail?.(s,t),new Promise(e=>{setTimeout(e,a)}).then(()=>{if(u())return h()}).then(()=>{i?l(t):d()})})}};return eu(e.networkMode)?d():h().then(d),{promise:a,cancel:t=>{o||(l(new ec(t)),e.abort?.())},continue:()=>{let e=t?.();return e?a:Promise.resolve()},cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1}}}var ed=class extends en{constructor(e){super(),this.mutationId=e.mutationId,this.#s=e.defaultOptions,this.#o=e.mutationCache,this.#a=[],this.state=e.state||ep(),this.setOptions(e.options),this.scheduleGc()}#a;#s;#o;#u;setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#a.includes(e)||(this.#a.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#a=this.#a.filter(t=>t!==e),this.scheduleGc(),this.#o.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#a.length||("pending"===this.state.status?this.scheduleGc():this.#o.remove(this))}continue(){return this.#u?.continue()??this.execute(this.state.variables)}async execute(e){let t="pending"===this.state.status;try{if(!t){this.#c({type:"pending",variables:e}),await this.#o.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#c({type:"pending",context:t,variables:e})}let r=await (this.#u=eh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#c({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#c({type:"pause"})},onContinue:()=>{this.#c({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#u.promise);return await this.#o.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#o.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#c({type:"success",data:r}),r}catch(t){try{throw await this.#o.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#o.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#c({type:"error",error:t})}}}#c(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!eu(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),j.batch(()=>{this.#a.forEach(t=>{t.onMutationUpdate(e)}),this.#o.notify({mutation:this,type:"updated",action:e})})}};function ep(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationObserver=class extends ei{constructor(e,t){super(),this.#l=void 0,this.#h=e,this.setOptions(t),this.bindMethods(),this.#d()}#h;#l;#p;#f;bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#h.defaultMutationOptions(e),V(t,this.options)||this.#h.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#p,observer:this}),this.#p?.setOptions(this.options),t?.mutationKey&&this.options.mutationKey&&W(t.mutationKey)!==W(this.options.mutationKey)&&this.reset()}onUnsubscribe(){this.hasListeners()||this.#p?.removeObserver(this)}onMutationUpdate(e){this.#d(),this.#m(e)}getCurrentResult(){return this.#l}reset(){this.#p?.removeObserver(this),this.#p=void 0,this.#d(),this.#m()}mutate(e,t){return this.#f=t,this.#p?.removeObserver(this),this.#p=this.#h.getMutationCache().build(this.#h,this.options),this.#p.addObserver(this),this.#p.execute(e)}#d(){let e=this.#p?.state??ep();this.#l={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#m(e){j.batch(()=>{if(this.#f&&this.hasListeners()){let t=this.#l.variables,r=this.#l.context;e?.type==="success"?(this.#f.onSuccess?.(e.data,t,r),this.#f.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#f.onError?.(e.error,t,r),this.#f.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#l)})})}};function ef(e,t){return"function"==typeof e?e(...t):!!e}function em(){}let ey=window.wp.apiFetch;var eg=r.n(ey);let ev="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eb={randomUUID:ev},ew=new Uint8Array(16),eC=[];for(let e=0;e<256;++e)eC.push((e+256).toString(16).slice(1));let e_=function(e,t,r){if(eb.randomUUID&&!t&&!e)return eb.randomUUID();e=e||{};let i=e.random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(ew)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return eC[e[t+0]]+eC[e[t+1]]+eC[e[t+2]]+eC[e[t+3]]+"-"+eC[e[t+4]]+eC[e[t+5]]+"-"+eC[e[t+6]]+eC[e[t+7]]+"-"+eC[e[t+8]]+eC[e[t+9]]+"-"+eC[e[t+10]]+eC[e[t+11]]+eC[e[t+12]]+eC[e[t+13]]+eC[e[t+14]]+eC[e[t+15]]}(i)};var eE=r(966),eO=r.n(eE);let eF=a()("wpcom-proxy-request"),eS="https://public-api.wordpress.com",eR=null,ex=(()=>{let e=!1;try{window.postMessage({toString:function(){e=!0}},"*")}catch(e){}return e})(),ek=(()=>{try{return new window.File(["a"],"test.jpg",{type:"image/jpeg"}),!0}catch(e){return!1}})(),eA=null,eL=!1,eP={},eq=(e,t)=>{let r=Object.assign({},e);eF("request(%o)",r),eA||function(){eF("install()"),eA&&(eF("uninstall()"),window.removeEventListener("message",eD),document.body.removeChild(eA),eL=!1,eA=null),i=[],window.addEventListener("message",eD),eA=document.createElement("iframe");let e=window.location.origin;eF('using "origin": %o',e),eA.src=eS+"/wp-admin/rest-proxy/?v=2.0#"+e,eA.style.display="none",document.body.appendChild(eA)}();let n=e_();r.callback=n,r.supports_args=!0,r.supports_error_obj=!0,r.supports_progress=!0,r.method=String(r.method||"GET").toUpperCase(),eF("params object: %o",r);let s=new window.XMLHttpRequest;if(s.params=r,eP[n]=s,"function"==typeof t){let e=!1,r=r=>{if(e)return;e=!0;let n=r.error??r.err??r;eF("error: ",n),eF("headers: ",r.headers),t(n,null,r.headers)};s.addEventListener("load",r=>{if(e)return;e=!0;let n=r.response??s.response;eF("body: ",n),eF("headers: ",r.headers),t(null,n,r.headers)}),s.addEventListener("abort",r),s.addEventListener("error",r)}return"function"==typeof r.onStreamRecord&&(eR=r.onStreamRecord,delete r.onStreamRecord),eL?eT(r):(eF("buffering API request since proxying <iframe> is not yet loaded"),i.push(r)),s},eM=(e,t)=>"function"==typeof t?eq(e,t):new Promise((t,r)=>{eq(e,(e,n)=>{e?r(e):t(n)})});function eT(e){if(!eA.contentWindow){eF("proxy iframe is not present in the document");let t=e.callback,r=eP[t];delete eP[t],eU(r,eO()({status_code:500,error_description:"proxy iframe element is not loaded"}),{});return}eF("sending API request to proxy <iframe> %o",e),e.formData&&function(e){if(window.chrome&&ek)for(let r=0;r<e.length;r++){var t;let n=eI(t=e[r][1])?t:"object"==typeof t&&eI(t.fileContents)?t.fileContents:null;n&&(e[r][1]=new window.File([n],n.name,{type:n.type}))}}(e.formData),eA.contentWindow.postMessage(ex?JSON.stringify(e):e,eS)}function eI(e){return e&&"[object File]"===Object.prototype.toString.call(e)}function eD(e){var t;if(!eA?.contentWindow)return;if(eF("onmessage"),e.origin!==eS){eF("ignoring message... %o !== %o",e.origin,eS);return}if(e.source!==eA.contentWindow){eF("ignoring message... iframe elements do not match");return}let{data:r}=e;if(!r)return eF("no `data`, bailing");if("ready"===r){!function(){if(eF('proxy <iframe> "load" event'),eL=!0,i){for(let e=0;e<i.length;e++)eT(i[e]);i=null}}();return}if(ex&&"string"==typeof r&&(r=JSON.parse(r)),r.upload||r.download)return function(e){eF('got "progress" event: %o',e);let t=eP[e.callbackId];if(t){let r=new window.ProgressEvent("progress",e),n=e.upload?t.upload:t;n.dispatchEvent(r)}}(r);if(!r.length)return eF("`e.data` doesn't appear to be an Array, bailing...");let n=r[r.length-1];if(!(n in eP))return eF("bailing, no matching request with callback: %o",n);let s=eP[n],{params:o}=s,a=r[0],u=r[1],c=r[2];if(207===u||delete eP[n],o.metaAPI?u="metaAPIupdated"===a?200:500:eF("got %o status code for URL: %o",u,o.path),"object"==typeof c&&(c.status=u,t=c["Content-Type"],/^application[/]x-ndjson($|;)/.test(t)&&207===u)){eR(a);return}if(u&&2===Math.floor(u/100))!function(e,t,r){let n=new window.ProgressEvent("load");n.data=n.body=n.response=t,n.headers=r,e.dispatchEvent(n)}(s,a,c);else{let e=eO()(o,u,a);eU(s,e,c)}}function eU(e,t,r){let n=new window.ProgressEvent("error");n.error=n.err=t,n.headers=r,e.dispatchEvent(n)}let eQ=["https://wordpress.com","https://cloud.jetpack.com","https://jetpack.com","https://agencies.automattic.com","http://wpcalypso.wordpress.com","http://widgets.wp.com","https://widgets.wp.com","https://dev-mc.a8c.com","https://mc.a8c.com","https://dserve.a8c.com","http://calypso.localhost:3000","https://calypso.localhost:3000","http://jetpack.cloud.localhost:3000","https://jetpack.cloud.localhost:3000","http://agencies.localhost:3000","https://agencies.localhost:3000","http://calypso.localhost:3001","https://calypso.localhost:3001","https://calypso.live","http://127.0.0.1:41050","http://send.linguine.localhost:3000"];function ej(){var e;return e=window.location.origin,eQ.includes(e)||/^https:\/\/[a-z0-9-]+\.calypso\.live$/.test(e)||/^https:\/\/([a-z0-9-]+\.)+wordpress\.com$/.test(e)}let eN="SEEN_WHATS_NEW_ANNOUCNEMENT_IDS",eK=()=>{let e=U();return function(e,t){let r=U(void 0),[n]=x.useState(()=>new MutationObserver(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);let i=x.useSyncExternalStore(x.useCallback(e=>n.subscribe(j.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((e,t)=>{n.mutate(e,t).catch(em)},[n]);if(i.error&&ef(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}({mutationFn:async e=>ej()?await eM({path:"/whats-new/seen-announcement-ids",apiNamespace:"wpcom/v2",method:"POST",body:{seen_announcement_ids:e}}):await eg()({global:!0,path:"/wpcom/v2/whats-new/seen-announcement-ids",method:"POST",data:{seen_announcement_ids:e}}),onMutate:async t=>{await e.cancelQueries({queryKey:[eN]}),e.setQueryData([eN],t);let r=e.getQueryData([eN]);return{previousData:r}},onError:(t,r,n)=>{e.setQueryData([eN],n?.previousData)},onSettled:async()=>{await e.invalidateQueries({queryKey:[eN]})}})},ez=window.wp.compose,eH=(0,x.createContext)(null);function e$(){let e=function(){let e=k.getLocaleData()||{};return e[""]?.lang||e[""]?.language||""}();return function(e=""){if(!e)return"";let t=e.toLowerCase(),r=["pt_br","pt-br","zh_tw","zh-tw","zh_cn","zh-cn","zh_sg","zh-sg"].includes(t)?t.replace("_","-"):t.replace(/([-_].*)$/i,"");return r||"en"}(e)}function eG(){let e=(0,x.useContext)(eH),t=!!e,[r,n]=(0,x.useState)(e$());return(0,x.useEffect)(()=>{if(!t)return n(e$()),k.subscribe(()=>{n(e$())})},[t]),e||r||window._currentUserLocale||"en"}(0,ez.createHigherOrderComponent)(e=>t=>{let r=eG(),n={...t,locale:r};return(0,s.createElement)(e,n)},"withLocale");var eB=class extends ei{constructor(e,t){super(),this.options=t,this.#h=e,this.#y=null,this.bindMethods(),this.setOptions(t)}#h;#g=void 0;#v=void 0;#l=void 0;#b;#w;#y;#C;#_;#E;#O;#F;#S;#R=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#g.addObserver(this),eW(this.#g,this.options)?this.#x():this.updateResult(),this.#k())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eJ(this.#g,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eJ(this.#g,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#A(),this.#L(),this.#g.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#g;if(this.options=this.#h.defaultQueryOptions(e),V(r,this.options)||this.#h.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#g,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.#P();let i=this.hasListeners();i&&eV(this.#g,n,this.options,r)&&this.#x(),this.updateResult(t),i&&(this.#g!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.#q();let s=this.#M();i&&(this.#g!==n||this.options.enabled!==r.enabled||s!==this.#S)&&this.#T(s)}getOptimisticResult(e){let t=this.#h.getQueryCache().build(this.#h,e),r=this.createResult(t,e);return V(this.getCurrentResult(),r)||(this.#l=r,this.#w=this.options,this.#b=this.#g.state),r}getCurrentResult(){return this.#l}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.#R.add(r),e[r])})}),t}getCurrentQuery(){return this.#g}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#h.defaultQueryOptions(e),r=this.#h.getQueryCache().build(this.#h,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#x({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#l))}#x(e){this.#P();let t=this.#g.fetch(this.options,e);return e?.throwOnError||(t=t.catch(K)),t}#q(){if(this.#A(),N||this.#l.isStale||!z(this.options.staleTime))return;let e=H(this.#l.dataUpdatedAt,this.options.staleTime);this.#O=setTimeout(()=>{this.#l.isStale||this.updateResult()},e+1)}#M(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#g):this.options.refetchInterval)??!1}#T(e){this.#L(),this.#S=e,!N&&!1!==this.options.enabled&&z(this.#S)&&0!==this.#S&&(this.#F=setInterval(()=>{(this.options.refetchIntervalInBackground||es.isFocused())&&this.#x()},this.#S))}#k(){this.#q(),this.#T(this.#M())}#A(){this.#O&&(clearTimeout(this.#O),this.#O=void 0)}#L(){this.#F&&(clearInterval(this.#F),this.#F=void 0)}createResult(e,t){let r;let n=this.#g,i=this.options,s=this.#l,o=this.#b,a=this.#w,u=e!==n,c=u?e.state:this.#v,{state:l}=e,{error:h,errorUpdatedAt:d,fetchStatus:p,status:f}=l,m=!1;if(t._optimisticResults){let r=this.hasListeners(),s=!r&&eW(e,t),o=r&&eV(e,n,t,i);(s||o)&&(p=eu(e.options.networkMode)?"fetching":"paused",l.dataUpdatedAt||(f="pending")),"isRestoring"===t._optimisticResults&&(p="idle")}if(t.select&&void 0!==l.data){if(s&&l.data===o?.data&&t.select===this.#C)r=this.#_;else try{this.#C=t.select,r=t.select(l.data),r=ee(s?.data,r,t),this.#_=r,this.#y=null}catch(e){this.#y=e}}else r=l.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===f){let e;if(s?.isPlaceholderData&&t.placeholderData===a?.placeholderData)e=s.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#E?.state.data,this.#E):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#y=null}catch(e){this.#y=e}void 0!==e&&(f="success",r=ee(s?.data,e,t),m=!0)}this.#y&&(h=this.#y,r=this.#_,d=Date.now(),f="error");let y="fetching"===p,g="pending"===f,v="error"===f,b=g&&y,w={status:f,fetchStatus:p,isPending:g,isSuccess:"success"===f,isError:v,isInitialLoading:b,isLoading:b,data:r,dataUpdatedAt:l.dataUpdatedAt,error:h,errorUpdatedAt:d,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!g,isLoadingError:v&&0===l.dataUpdatedAt,isPaused:"paused"===p,isPlaceholderData:m,isRefetchError:v&&0!==l.dataUpdatedAt,isStale:eZ(e,t),refetch:this.refetch};return w}updateResult(e){let t=this.#l,r=this.createResult(this.#g,this.options);if(this.#b=this.#g.state,this.#w=this.options,void 0!==this.#b.data&&(this.#E=this.#g),V(r,t))return;this.#l=r;let n={};e?.listeners!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#R.size)return!0;let n=new Set(r??this.#R);return this.options.throwOnError&&n.add("error"),Object.keys(this.#l).some(e=>{let r=this.#l[e]!==t[e];return r&&n.has(e)})})()&&(n.listeners=!0),this.#m({...n,...e})}#P(){let e=this.#h.getQueryCache().build(this.#h,this.options);if(e===this.#g)return;let t=this.#g;this.#g=e,this.#v=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#k()}#m(e){j.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#l)}),this.#h.getQueryCache().notify({query:this.#g,type:"observerResultsUpdated"})})}};function eW(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&eJ(e,t,t.refetchOnMount)}function eJ(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&eZ(e,t)}return!1}function eV(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&eZ(e,r)}function eZ(e,t){return e.isStaleByTime(t.staleTime)}var eX=x.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),eY=()=>x.useContext(eX),e0=x.createContext(!1),e1=()=>x.useContext(e0);e0.Provider;var e3=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},e2=e=>{x.useEffect(()=>{e.clearReset()},[e])},e6=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&ef(r,[e.error,n]),e4=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},e5=(e,t)=>e?.suspense&&t.isPending,e9=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});let e8=e=>{let t=eG();return function(e,t,r){let n=U(r),i=e1(),s=eY(),o=n.defaultQueryOptions(e);o._optimisticResults=i?"isRestoring":"optimistic",e4(o),e3(o,s),e2(s);let[a]=x.useState(()=>new t(n,o)),u=a.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(e=>{let t=i?()=>void 0:a.subscribe(j.batchCalls(e));return a.updateResult(),t},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),x.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),e5(o,u))throw e9(o,a,s);if(e6({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;return o.notifyOnChangeProps?u:a.trackResult(u)}({queryKey:[`WhatsNewAnnouncements-${t}-${e}`],queryFn:async()=>ej()?await eM({path:`/whats-new/list?_locale=${t}&site_id=${e}`,apiNamespace:"wpcom/v2"}):await eg()({global:!0,path:`/wpcom/v2/block-editor/whats-new-list?_locale=${t}&site_id=${e}`}),enabled:!!e,refetchOnWindowFocus:!1},eB,void 0)};window.ReactJSXRuntime;let e7=(0,s.createContext)(function(e){return{__:e.__.bind(e),_x:e._x.bind(e),_n:e._n.bind(e),_nx:e._nx.bind(e),isRTL:e.isRTL.bind(e),hasTranslation:e.hasTranslation.bind(e)}}(k.defaultI18n)),te=()=>(0,s.useContext)(e7),tt=({heading:e,description:t,imageSrc:r,isLastPage:n,link:i,pageNumber:o})=>{let __=te().__;return(0,s.useEffect)(()=>{R("calypso_whats_new_slide_view",{slide_number:o,is_last_slide:n})},[n,o]),(0,s.createElement)("div",{className:"whats-new-page__container"},(0,s.createElement)("div",{className:"whats-new-page__text"},e&&(0,s.createElement)("h1",{className:"whats-new-page__heading"},e),(0,s.createElement)("div",{className:"whats-new-page__description"},t&&(0,s.createElement)("p",{dangerouslySetInnerHTML:{__html:t}}),i&&(0,s.createElement)(q.Button,{className:"whats-new-page__link",href:i,variant:"link",target:"_blank"},__("Learn more","command-palette")))),(0,s.createElement)("div",{className:"whats-new-page__visual"},r&&(0,s.createElement)("div",{className:"whats-new-page__image-container"},(0,s.createElement)("img",{src:r,alt:t,"aria-hidden":"true",className:"whats-new-page__image"}))))},tr=({onClose:e,siteId:t})=>{let{data:r,isLoading:n}=e8(t),{mutate:i}=eK();return((0,x.useEffect)(()=>{if(r&&r.length){let e=r.map(e=>e.announcementId);i(e)}},[r,i]),!r||n)?null:(0,s.createElement)(I,{className:"whats-new-guide__main",onFinish:e},r.map((e,t)=>(0,s.createElement)(tt,{key:e.announcementId,pageNumber:t+1,isLastPage:t===r.length-1,description:e.description,heading:e.heading,imageSrc:e.imageSrc,link:e.link})))};var tn=class extends en{constructor(e){super(),this.#I=!1,this.#s=e.defaultOptions,this.#D(e.options),this.#a=[],this.#U=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#Q=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#Q,this.scheduleGc()}#Q;#j;#U;#N;#u;#a;#s;#I;get meta(){return this.options.meta}#D(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.#a.length||"idle"!==this.state.fetchStatus||this.#U.remove(this)}setData(e,t){let r=ee(this.state.data,e,this.options);return this.#c({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#c({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#N;return this.#u?.cancel(e),t?t.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#Q)}isActive(){return this.#a.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#a.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!H(this.state.dataUpdatedAt,e)}onFocus(){let e=this.#a.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}onOnline(){let e=this.#a.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#u?.continue()}addObserver(e){this.#a.includes(e)||(this.#a.push(e),this.clearGcTimeout(),this.#U.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.#a.includes(e)&&(this.#a=this.#a.filter(t=>t!==e),this.#a.length||(this.#u&&(this.#I?this.#u.cancel({revert:!0}):this.#u.cancelRetry()),this.scheduleGc()),this.#U.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.#a.length}invalidate(){this.state.isInvalidated||this.#c({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#N)return this.#u?.continueRetry(),this.#N}if(e&&this.#D(e),!this.options.queryFn){let e=this.#a.find(e=>e.options.queryFn);e&&this.#D(e.options)}let r=new AbortController,n={queryKey:this.queryKey,meta:this.meta},i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#I=!0,r.signal)})};i(n);let s={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.#I=!1,this.options.persister)?this.options.persister(this.options.queryFn,n,this):this.options.queryFn(n):Promise.reject(Error(`Missing queryFn: '${this.options.queryHash}'`))};i(s),this.options.behavior?.onFetch(s,this),this.#j=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#c({type:"fetch",meta:s.fetchOptions?.meta});let o=e=>{el(e)&&e.silent||this.#c({type:"error",error:e}),el(e)||(this.#U.config.onError?.(e,this),this.#U.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#u=eh({fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e){o(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#U.config.onSuccess?.(e,this),this.#U.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(e,t)=>{this.#c({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#c({type:"pause"})},onContinue:()=>{this.#c({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode}),this.#N=this.#u.promise,this.#N}#c(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:eu(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if(el(r)&&r.revert&&this.#j)return{...this.#j,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),j.batch(()=>{this.#a.forEach(e=>{e.onQueryUpdate()}),this.#U.notify({query:this,type:"updated",action:e})})}},ti=class extends ei{constructor(e={}){super(),this.config=e,this.#K=new Map}#K;build(e,t,r){let n=t.queryKey,i=t.queryHash??B(n,t),s=this.get(i);return s||(s=new tn({cache:this,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#K.has(e.queryHash)||(this.#K.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#K.get(e.queryHash);t&&(e.destroy(),t===e&&this.#K.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){j.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#K.get(e)}getAll(){return[...this.#K.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>$(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>$(e,t)):t}notify(e){j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){j.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){j.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ts=class extends ei{constructor(e={}){super(),this.config=e,this.#z=[],this.#H=0}#z;#H;#$;build(e,t,r){let n=new ed({mutationCache:this,mutationId:++this.#H,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#z.push(e),this.notify({type:"added",mutation:e})}remove(e){this.#z=this.#z.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){j.batch(()=>{this.#z.forEach(e=>{this.remove(e)})})}getAll(){return this.#z}find(e){let t={exact:!0,...e};return this.#z.find(e=>G(t,e))}findAll(e={}){return this.#z.filter(t=>G(e,t))}notify(e){j.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){return this.#$=(this.#$??Promise.resolve()).then(()=>{let e=this.#z.filter(e=>e.state.isPaused);return j.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(K)),Promise.resolve()))}).then(()=>{this.#$=void 0}),this.#$}};function to(e,{pages:t,pageParams:r}){let n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}function ta(e,{pages:t,pageParams:r}){return e.getPreviousPageParam?.(t[0],t,r[0],r)}var tu=class{#G;#o;#s;#B;#W;#J;#V;#Z;constructor(e={}){this.#G=e.queryCache||new ti,this.#o=e.mutationCache||new ts,this.#s=e.defaultOptions||{},this.#B=new Map,this.#W=new Map,this.#J=0}mount(){this.#J++,1===this.#J&&(this.#V=es.subscribe(()=>{es.isFocused()&&(this.resumePausedMutations(),this.#G.onFocus())}),this.#Z=eo.subscribe(()=>{eo.isOnline()&&(this.resumePausedMutations(),this.#G.onOnline())}))}unmount(){this.#J--,0===this.#J&&(this.#V?.(),this.#V=void 0,this.#Z?.(),this.#Z=void 0)}isFetching(e){return this.#G.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#o.findAll({...e,status:"pending"}).length}getQueryData(e){return this.#G.find({queryKey:e})?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);return void 0!==t?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>{let r=t.data;return[e,r]})}setQueryData(e,t,r){let n=this.#G.find({queryKey:e}),i=n?.state.data,s="function"==typeof t?t(i):t;if(void 0===s)return;let o=this.defaultQueryOptions({queryKey:e});return this.#G.build(this,o).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return j.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){return this.#G.find({queryKey:e})?.state}removeQueries(e){let t=this.#G;j.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#G,n={type:"active",...e};return j.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t},n=j.batch(()=>this.#G.findAll(e).map(e=>e.cancel(r)));return Promise.all(n).then(K).catch(K)}invalidateQueries(e={},t={}){return j.batch(()=>{if(this.#G.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0},n=j.batch(()=>this.#G.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(K)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(n).then(K)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#G.build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(K).catch(K)}fetchInfiniteQuery(e){var t;return e.behavior=(t=e.pages,{onFetch:(e,r)=>{let n=async()=>{let r;let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[],a=!1,u=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?a=!0:e.signal.addEventListener("abort",()=>{a=!0}),e.signal)})},c=e.options.queryFn||(()=>Promise.reject(Error(`Missing queryFn: '${e.options.queryHash}'`))),l=async(t,r,n)=>{if(a)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);let i={queryKey:e.queryKey,pageParam:r,direction:n?"backward":"forward",meta:e.options.meta};u(i);let s=await c(i),{maxPages:o}=e.options,l=n?er:et;return{pages:l(t.pages,s,o),pageParams:l(t.pageParams,r,o)}};if(i&&s.length){let e="backward"===i,t=e?ta:to,a={pages:s,pageParams:o},u=t(n,a);r=await l(a,u,e)}else{r=await l({pages:[],pageParams:[]},o[0]??n.initialPageParam);let e=t??s.length;for(let t=1;t<e;t++){let e=to(n,r);r=await l(r,e)}}return r};e.options.persister?e.fetchFn=()=>e.options.persister?.(n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=n}}),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(K).catch(K)}resumePausedMutations(){return this.#o.resumePausedMutations()}getQueryCache(){return this.#G}getMutationCache(){return this.#o}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#B.set(W(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#B.values()],r={};return t.forEach(t=>{J(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#W.set(W(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#W.values()],r={};return t.forEach(t=>{J(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e?._defaulted)return e;let t={...this.#s.queries,...e?.queryKey&&this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=B(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),void 0===t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#G.clear(),this.#o.clear()}};let tc=window.wp.data,tl=window.wp.plugins,th=k.__;function td({siteId:e}){let[t,r]=(0,x.useState)(!1),{setHasSeenWhatsNewModal:n}=(0,tc.useDispatch)("automattic/help-center");return(0,s.useEffect)(()=>{t&&R("calypso_block_editor_whats_new_open")},[t]),(0,s.createElement)(s.Fragment,null,(0,s.createElement)(q.Fill,{name:"ToolsMoreMenuGroup"},(0,s.createElement)(q.MenuItem,{onClick:()=>{n(!0).finally(()=>r(!0))}},th("What's new","full-site-editing"))),t&&(0,s.createElement)(tr,{onClose:()=>r(!1),siteId:e}))}(0,tl.registerPlugin)("whats-new",{render:()=>window.whatsNewAppConfig?(0,s.createElement)(Q,{client:new tu},(0,s.createElement)(td,window.whatsNewAppConfig||{})):null})})();var i=window;for(var s in n)i[s]=n[s];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();